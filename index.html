<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COVID-19 Global Dashboard | Outbreak Monitoring</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
              <circle
                cx="20"
                cy="20"
                r="18"
                stroke="#ef4444"
                stroke-width="2"
              />
              <circle cx="20" cy="20" r="8" fill="#ef4444" />
              <circle cx="10" cy="15" r="3" fill="#ef4444" />
              <circle cx="30" cy="15" r="3" fill="#ef4444" />
              <circle cx="15" cy="30" r="3" fill="#ef4444" />
              <circle cx="25" cy="30" r="3" fill="#ef4444" />
            </svg>
            <h1>SENTINEL Dashboard</h1>
          </div>
          <div class="last-update">
            <span id="lastUpdate">Memuat data...</span>
          </div>
        </div>
      </header>

      <div class="search-section">
        <div class="search-box">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path
              d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16zM19 19l-4.35-4.35"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>
          <input
            type="text"
            id="searchInput"
            placeholder="Cari negara (contoh: Indonesia, USA, India...)"
          />
          <button id="searchBtn">Cari</button>
        </div>
        <div id="countryInfo" class="country-info hidden">
          <h2 id="countryName">-</h2>
          <img id="countryFlag" src="" alt="Flag" class="country-flag" />
        </div>
      </div>

      <div class="stats-grid stats-six-col">
        <div class="stat-card cases">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.36 15.64a.8.8 0 0 1-1.13 0L12 14.4l-2.23 3.24a.8.8 0 0 1-1.13 0 .8.8 0 0 1 0-1.13L10.87 13 8.35 9.5a.8.8 0 0 1 1.3-1.07L12 11.5l2.35-3.07a.8.8 0 0 1 1.3 1.07L13.13 13l2.51 3.51a.8.8 0 0 1 0 1.13z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Total Kasus</h3>
            <p class="stat-number" id="totalCases">-</p>
            <span class="stat-today" id="todayCases">-</span>
          </div>
        </div>

        <div class="stat-card deaths">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Total Meninggal</h3>
            <p class="stat-number" id="totalDeaths">-</p>
            <span class="stat-today" id="todayDeaths">-</span>
          </div>
        </div>

        <div class="stat-card recovered">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.15C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Total Sembuh</h3>
            <p class="stat-number" id="totalRecovered">-</p>
            <span class="stat-today" id="todayRecovered">-</span>
          </div>
        </div>

        <div class="stat-card active">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M19 8h-2.5c-.32 0-.6-.21-.68-.53l-1-3c-.15-.45-.63-.77-1.18-.46l-3.23 2.15c-.45.3-.77.78-.46 1.18l.84 1.26C10.5 8.9 10.22 9 9.8 9H4c-.55 0-1 .45-1 1v6h2v-4h14v4h2v-6c0-.55-.45-1-1-1z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Kasus Aktif</h3>
            <p class="stat-number" id="activeCases">-</p>
            <span class="stat-today" id="critical">-</span>
          </div>
        </div>

        <div class="stat-card cfr">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Rasio Kematian (CFR)</h3>
            <p class="stat-number" id="caseFatalityRate">-</p>
            <span class="stat-today" id="cfr-desc"
              >Meninggal / Total Kasus</span
            >
          </div>
        </div>

        <div class="stat-card recovery-rate">
          <div class="stat-icon">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.15C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
              />
            </svg>
          </div>
          <div class="stat-content">
            <h3>Rasio Kesembuhan</h3>
            <p class="stat-number" id="recoveryRate">-</p>
            <span class="stat-today" id="rr-desc">Sembuh / Total Kasus</span>
          </div>
        </div>
      </div>
      <div class="main-content-layout">
        <div class="main-chart-area">
          <div class="chart-section">
            <div class="chart-header">
              <h2>Grafik Real-time: Total Kasus, Aktif, Sembuh, & Meninggal</h2>
              <div class="chart-legend">
                <div class="legend-item">
                  <span class="legend-color cases-color"></span>
                  <span>Total Kasus</span>
                </div>
                <div class="legend-item">
                  <span class="legend-color active-color"></span>
                  <span>Aktif</span>
                </div>
                <div class="legend-item">
                  <span class="legend-color recovered-color"></span>
                  <span>Sembuh</span>
                </div>
                <div class="legend-item">
                  <span class="legend-color deaths-color"></span>
                  <span>Meninggal</span>
                </div>
              </div>
            </div>
            <canvas id="covidChart"></canvas>
          </div>

          <div class="chart-section daily-trend-section">
            <div class="chart-header">
              <h2>Tren Kasus Baru Harian (30 Hari Terakhir)</h2>
              <div class="chart-legend">
                <div class="legend-item">
                  <span class="legend-color cases-color"></span>
                  <span>Kasus Baru Harian</span>
                </div>
              </div>
            </div>
            <div id="dailyChartLoader" class="chart-loader">
              <div class="loader-spinner"></div>
              <p>Memuat tren harian...</p>
            </div>
            <canvas id="dailyTrendChart" style="display: none"></canvas>
          </div>
        </div>

        <div class="ranking-sidebar">
          <div class="ranking-section">
            <h2>Peringkat Global (Total Kasus)</h2>
            <div id="ranking-list" class="ranking-list">
              <p id="ranking-loader">Memuat data...</p>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <p>
          Data dari
          <a href="https://disease.sh" target="_blank">disease.sh API</a>
        </p>
        <p>
          Dashboard ini hanya untuk pembelajaran dan tidak untuk tujuan
          komersial
        </p>
      </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
